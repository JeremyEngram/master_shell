#!/bin/bash

# Function to recursively move files with a specific extension from source to target directory
move_files() {
    local source_dir="$1"
    local target_dir="$2"
    local extension="$3"
    
    # Using find to locate and move files
    find "$source_dir" -type f -name "*.$extension" -exec mv {} "$target_dir" \;
}

# Function to recursively copy files with a specific extension from source to destination directory
copy_files() {
    local source_dir="$1"
    local destination_dir="$2"
    local extension="$3"

    # Using find to locate and copy files
    find "$source_dir" -type f -name "*.$extension" -exec cp {} "$destination_dir" \;
}

# Function to find and remove files with specific extensions from a source directory
remove_files() {
    local source_dir="$1"
    shift # Shifting arguments to skip the first one (source_dir)
    local extensions=("$@")

    # Looping through each extension and removing matching files
    for extension in "${extensions[@]}"; do
        find "$source_dir" -type f -name "*.$extension" -delete
    done
}

# Usage examples
move_files "src/dir/" "target/dir/" "txt"
copy_files "." "/home/server/backup/Python" "py"
remove_files "/tmp" "pdf" "doc"

# Alternative method for copying .py files to a backup directory
find ./ -name '*.py' -exec cp -prv '{}' '/home/server/backup/Python' ';'

# Method to copy mp3 files with verbose, non-overwriting, and case-insensitive options
find dir_name -name '*.mp3' -exec cp -vuni '{}' "../dest_dir" ";"

# Copying files with their directory structure
find SOURCEPATH -name filename*.txt -exec cp --parents {} DESTPATH \;

# Another method to copy files with their directory structure using a while loop
find [SOURCEPATH] -type f -name '[PATTERN]' | 
    while read P; do cp --parents "$P" [DEST]; done

# Finding and listing config files with .conf extension in /etc directory
find /etc -type f -name "*.conf"

# Finding files with either .sh or .txt extension
find . -type f \( -name "*.sh" -o -name "*.txt" \)

# Removing files with either .pdf or .doc extension in /tmp directory using a for loop
for f in $(find /tmp -name '*.pdf' -or -name '*.doc'); do rm $f; done

# Copying files with either .pdf or .doc extension from /tmp to ~/misc directory using a for loop
for f in $(find /tmp -name '*.pdf' -or -name '*.doc'); do cp $f ~/misc; done

# Removing files with either .pdf or .doc extension using xargs
find /tmp -name '*.pdf' -or -name '*.doc' | xargs rm
